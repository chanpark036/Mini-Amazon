{% extends "base.html" %}

{% block content %}


<a href="{{ url_for('purchases.purchase_history_seller')}}" type="button" style = "float: right" class="btn btn-black">ORDER HISTORY</a>
<br><br>
<div class = "register-menu">
  <p class = "login" style = "text-align: center;">Edit Inventory</p>
<form class = "form1" action="" method="post" novalidate>
  {{ form.hidden_tag() }}
  <p>
    {{ form.inventory_id(size=32, class_ = "register-text", placeholder = "Inventory ID") }}
    <br/>
    {{ form.product_id(size=32, class_ = "register-text", placeholder = "Product ID") }}<br/>

    {{ form.quantity(size=32, class_ = "register-text", placeholder = "Quantity") }}<br/>

    {{ form.price(size=32, class_ = "register-text", placeholder = "Price") }}<br/>

    {{ form.action(size=32, class_ = "register-text", placeholder = "Action") }}<br/>
  </p>
  <p style = "text-align: center;">
  {{ form.search(class_="btn btn-black") }}
  </p>
  <br>
</form>
</div>

<h2 class = "login" style = "text-align: center;">Products in Inventory for User {{sid}}:</h2>
{% if available%}
<table class='styled-table table-hover container'>
  <thead>
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Product Price</th>
      <th scope="col">Quantity</th>
      <th scope="col">Remove/Add</th>
    </tr>
  </thead>
  <tbody>
    {% for product in inventory_products%}
      <tr>
        <th scope="row">{{product.pid}}</th>
        <td>{{product.price}}</td>
        <td>{{product.quantity}}
        <a href="{{ url_for('inventories.modifyQuantity', uid = product.sid, pid = product.pid, new_q = product.quantity+1) }}" type="button" class="btn btn-light">+</a> 
        <a href="{{ url_for('inventories.modifyQuantity', uid = product.sid, pid = product.pid, new_q = product.quantity-1) }}" type="button" class="btn btn-light">-</a>
        </td>   
        <td>
          <a href="{{ url_for('inventories.removeProduct', uid = product.sid, pid = product.pid) }}" type="button" class="btn btn-black">REMOVE</a>
        </td>
      </tr>
    {% endfor %}
    <form action = "{{url_for('inventories.addProduct')}}" method = "post" novalidate>
      <th>
      <!--{{ form.product_id.label }}-->
      {{ form.product_id(size=8) }}
      </th>

      <td>
      <!--{{ form.price.label }}-->
      {{ form.price(size=8) }}
      </td>

      <td>
      <!--{{ form.quantity.label }}-->
      {{ form.quantity(size=8) }}
      </td>

      <td>
      {{form.submit(class_="btn btn-black")}}
      </td>
    </form>
  </tbody>
</table>
{% else %}
<p style='text-align: center; color:red;'> Not a seller </p>
{% endif %}

{% endblock %}
